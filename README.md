# Итоговый проект курса Administrator Linux Professional

## Цель проекта
Закрепление полученных знаний и демонстрация практических навыков управления инфраструктурой Linux путем создания отказоустойчивого веб-проекта с использованием современных инструментов автоматизации и мониторинга.

## Описание и пошаговая инструкция выполнения домашнего задания

### Создание рабочего проекта

Необходимо создать веб-проект, удовлетворяющий следующим критериям:

- Включён HTTPS;
- Основная инфраструктура находится в демилитаризованной зоне (DMZ);
- Файрвол на входе (ограничение доступа внешним клиентам);
- Сбор метрик и настройка системы оповещения (алертинга);
- База данных с репликацией мастер–слейв;
- Централизованный сбор логов;
- Организованы регулярные backups;
- Возможность демонстрации процесса аварийного восстановления сбойного узла с помощью оркестратора.

---

## Вводные данные

**Автоматизация отказоустойчивого кластера Netbox с мониторингом и резервным копированием на базе IaC (Infrastructure as Code).**

Для реализации проекта выбраны инструменты:

- **OS:** Ubuntu 24.04 LTS;
- **Virtualization:** VirtualBox 7.0.26;
- **Provisioning Tool:** Vagrant 2.4.6;
- **Configuration Management:** Ansible 2.18.6;
- **Language & Runtime:** Python 3.12.3;
- **Application Service:** Netbox — Open Source IPAM (IP Address Management System).

---

## Инфраструктура проекта

Вся инфраструктура располагается в среде с двумя сегментированными сетями:

- Внутренняя сеть (DMZ): 192.168.30.0/24
- Внешняя сеть: 192.168.3.0/24

Серверы подключаются к внешней сети по специальным правилам файрволла (nftables):

- Веб-фронтенд: внешний интерфейс доступен по адресу 192.168.3.101, поддерживает HTTPS (порт 443).
- Сервер мониторинга: внешний интерфейс доступен по адресу 192.168.3.109, поддерживает доступ по HTTPS (порт 443).

---

## Структура проекта

Проект включает набор виртуальных машин, каждая из которых выполняет определённую функциональную роль:

1. **Frontend (webserver.netbox.local)**:
   - Адрес: 192.168.30.1
   - Функционал: предоставление доступа к веб-интерфейсу Netbox через Nginx.
   - Функционал: балансировка нагрузки между узлами бэк-энда Netbox через Nginx.
   
2. **Backend (backend1.netbox.local, backend2.netbox.local)**:
   - Адреса: 192.168.30.2, 192.168.30.3
   - Функционал: обработка динамических запросов с использованием Gunicorn в режиме балансировки нагрузки между узлами.
   
3. **GlusterFS (gluster.netbox.local)**:
   - Адрес: 192.168.30.8
   - Функционал: создание отказоустойчивого хранилища статики для фронт-энда.
   
4. **PostgreSQL (pgdb1.netbox.local, pgdb2.netbox.local)**:
   - Адреса: 192.168.30.4, 192.168.30.5
   - Функционал: база данных PostgreSQL в режиме master-slave репликации.
   
5. **Barman (barman.netbox.local)**:
   - Адрес: 192.168.30.6
   - Функционал: резервное копирование базы данных PostgreSQL.
   
6. **Rsyslog (rsyslog.netbox.local)**:
   - Адрес: 192.168.30.7
   - Функционал: централизованное хранение логов инфраструктуры.
   
7. **Zabbix (zabbix.netbox.local)**:
   - Адрес: 192.168.30.9
   - Функционал: мониторинг состояния инфраструктуры и отправка уведомлений (alerts) в Telegram.
   
8. **Borg (borg.netbox.local)**:
   - Адрес: 192.168.30.10
   - Функционал: дополнительное резервное копирование бэкапов Barman'а.

---

## Архитектурная схема инфраструктуры

Чтобы наглядно представить структуру взаимодействия компонентов, разработана следующая блок-схема инфраструктуры проекта:

 
https://drive.google.com/file/d/1O45iH-YDmZm0jTa8A_xoXWRjSmxGC_zc/view?usp=sharing
![]()

